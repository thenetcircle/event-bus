
<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <link rel="shortcut icon" href="../assets/images/favicon.png">
      
      <meta name="generator" content="mkdocs-0.16.3, mkdocs-material-1.10.2">
    
    
      
        <title>QuickStart - EventBus</title>
      
    
    
      <script src="../assets/javascripts/modernizr-e826f8942a.js"></script>
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application-408828a02a.css">
      
    
    
      
        
        
        
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
      <link rel="stylesheet" href="../stresstest/style/bootstrap.min.css">
    
      <link rel="stylesheet" href="../stresstest/style/style.css">
    
    
  </head>
  
  
  
  
    <body>
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="EventBus" class="md-header-nav__button md-logo">
          
            <i class="md-icon md-icon--home"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <span class="md-flex__ellipsis md-header-nav__title">
          
            
              
            
            QuickStart
          
        </span>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" required placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset">&#xE5CD;</button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result" data-md-lang-search="" data-md-lang-tokenizer="[\s\-]+">
          <div class="md-search-result__meta" data-md-lang-result-none="No matching documents" data-md-lang-result-one="1 matching document" data-md-lang-result-other="# matching documents">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <div class="md-nav__button md-logo">
      
        <i class="md-icon md-icon--home"></i>
      
    </div>
    EventBus
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../installation/" title="Installation" class="md-nav__link">
      Installation
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        QuickStart
      </label>
    
    <a href="./" title="QuickStart" class="md-nav__link md-nav__link--active">
      QuickStart
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#background" title="Background" class="md-nav__link">
    Background
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setting-up-eventbus" title="Setting up EventBus" class="md-nav__link">
    Setting up EventBus
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#launch-eventbus" title="Launch EventBus" class="md-nav__link">
    Launch EventBus
  </a>
  
</li>
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../components/" title="Components" class="md-nav__link">
      Components
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../unified_event/" title="Unified Event" class="md-nav__link">
      Unified Event
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../configuration/" title="Configuration" class="md-nav__link">
      Configuration
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../deployment/" title="Deployment" class="md-nav__link">
      Deployment
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#background" title="Background" class="md-nav__link">
    Background
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setting-up-eventbus" title="Setting up EventBus" class="md-nav__link">
    Setting up EventBus
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#launch-eventbus" title="Launch EventBus" class="md-nav__link">
    Launch EventBus
  </a>
  
</li>
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  <h1>QuickStart</h1>
                
                <h2 id="background">Background</h2>
<p>EventBus works like a postman to delivering stuff from source to target.<br />
Let's set up a scenario to describe how it works.  </p>
<p>For example if we have a web application which writen by PHP, 
And we have some other backend services using different languages like Java, Nodejs, Python.
And we want that if something happened on any of them, And the thing have to be aware by other services for perhaps some updates.     </p>
<p>The workflow will like this:</p>
<p><a href="assets/quickstart.png" target="_blank"><img alt="EventBus Workflow" src="../assets/quickstart.png" /></a></p>
<h2 id="setting-up-eventbus">Setting up EventBus</h2>
<p>First of all we need to tell EventBus what to do, Since EventBus supports multiple different sources(called EntryPoint in EventBus) and targets(called EndPoint). We need to point out which of them is using in this scenario.<br />
Let's create a configuration file to describe this, The configuration file is based on <a href="https://github.com/typesafehub/config">Typesafe Config</a>, similar as json.
Let's create a file called application.conf, Put it on root of EventBus directory.</p>
<pre><code class="json"># includes the original configuration
include &quot;application&quot;

# EventBus runtime configuration
event-bus.runtime {

  # Creates a PipelinePool and declare what Pipelines it has.
  pipeline-pool = [
    {
      name = TestPipeline
      type = kafka

      # Sets up the Pipeline specific settings
      akka.kafka.producer {
        kafka-clients {
          bootstrap.servers = &quot;...&quot;
        }
      }
      akka.kafka.consumer {
        kafka-clients {
          bootstrap.servers = &quot;...&quot;
        }
      }
    }
  ]

  # Creates Transporters which will accept data from outside to Pipeline.
  transporters = [{
    name = TestTransporter

    # Declares which EntryPoints this Transporter can support.
    entrypoints = [
      {
        type = http
        name = TestEntryPoint1

        # EntryPoint specific parameters
        interface = localhost
        port = 8086
      }
    ]

    # Declares which Pipeline it using (from PipelinePool)
    pipeline {
      name = TestPipeline
    }

    # Transporter specific parameters.
    transport-parallelism = 1
    commit-parallelism = 10
    akka.stream.materializer {}
  }]

  # Creates Dispatchers which will publish data from Pipeline to outside.
  dispatchers = [{
    name = StressTestDispatcher

    # Declares which EndPoints this Dispatcher can support.
    endpoints = [{
      type = http
      name = TestEndPoint

      # EndPoint specific parameters
      request {
        host = localhost
        port = 8087
        uri = &quot;/&quot;
      }
      akka.http.host-connection-pool {
        max-open-requests = 32
      }
    }]

    # Declares which Pipeline it using (from PipelinePool)
    pipeline {
      name = TestPipeline

      # The options of using the Pipeline
      outlet {
        group-id = EventBus.TestDispatcher
        topics = [&quot;default&quot;]
      }
    }
  }]
}
</code></pre>

<h2 id="launch-eventbus">Launch EventBus</h2>
<p>After you set up the configuration, Please make sure the dependencies are also set up properly. Like: Kafka...<br />
Then we can launch EventBus by the way if want, Let's using normal way here.</p>
<ul>
<li>package EventBus</li>
</ul>
<pre><code class="sh">sbt clean compile stage
</code></pre>

<ul>
<li>launch with the configuration</li>
</ul>
<pre><code class="sh">./target/universal/stage/bin/event-bus -Dconfig.file=./application.conf
</code></pre>

<p>Now EventBus should be listening on localhost port 8086 expecting for HTTP messages, And transporting messages to Kafka then delivering to localhost port 8087 by HTTP.</p>
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../installation/" title="Installation" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Installation
              </span>
            </div>
          </a>
        
        
          <a href="../components/" title="Components" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Components
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="http://www.mkdocs.org" title="MkDocs">MkDocs</a>
        and
        <a href="http://squidfunk.github.io/mkdocs-material/" title="Material for MkDocs">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application-f3ab9e5ff8.js"></script>
      
      
      <script>app.initialize({url:{base:".."}})</script>
      
        <script src="../stresstest/js/all_sessions.js"></script>
      
        <script src="../stresstest/js/bootstrap.min.js"></script>
      
        <script src="../stresstest/js/gatling.js"></script>
      
        <script src="../stresstest/js/highcharts-more.js"></script>
      
        <script src="../stresstest/js/highstock.js"></script>
      
        <script src="../stresstest/js/jquery.min.js"></script>
      
        <script src="../stresstest/js/menu.js"></script>
      
        <script src="../stresstest/js/moment.min.js"></script>
      
        <script src="../stresstest/js/stats.js"></script>
      
        <script src="../stresstest/js/theme.js"></script>
      
        <script src="../stresstest/js/unpack.js"></script>
      
    
    
      
    
  </body>
</html>